[Main\STText]
count=295
line0="// Grafcet Modified ..."
line1="////////////////////////////////////////////////////////////"
line2="// FEUPAutom _ C _ v3.9 - "
line3="// Code Automatically Generated:15-07-2014 18:09:20"
line4="////////////////////////////////////////////////////////////"
line5=""
line6="//######################################//"
line7="//################ Page 3 ##############//"
line8="//######################################//"
line9=""
line10="////////////////////////////////////////////////////////////"
line11="///////////// If boot => Set Initial Steps /////////////////"
line12="////////////////////////////////////////////////////////////"
line13=""
line14=""
line15="////////////////////////////////////////////////////////////"
line16="///////////////// Calc Fired Transitions ///////////////////"
line17="////////////////////////////////////////////////////////////"
line18=""
line19=""
line20="////////////////////////////////////////////////////////////"
line21="///////////////// ReSet Steps Above fired Tr ///////////////"
line22="////////////////////////////////////////////////////////////"
line23=""
line24=""
line25="////////////////////////////////////////////////////////////"
line26="///////////////// Set Steps below fired Tr /////////////////"
line27="////////////////////////////////////////////////////////////"
line28=""
line29=""
line30="////////////////////////////////////////////////////////////"
line31="////////// Unset all Outputs (once for all pages) //////////"
line32="////////////////////////////////////////////////////////////"
line33=""
line34="  Q0:=False;"
line35="  Q1:=False;"
line36="  Q2:=False;"
line37="  Q3:=False;"
line38="  Q4:=False;"
line39="  Q5:=False;"
line40="  Q6:=False;"
line41="  Q7:=False;"
line42="  Q8:=False;"
line43="  Q9:=False;"
line44="  Q10:=False;"
line45="  Q11:=False;"
line46="  Q12:=False;"
line47="  Q13:=False;"
line48="  Q14:=False;"
line49="  Q15:=False;"
line50="  Q16:=False;"
line51="  Q17:=False;"
line52="  Q18:=False;"
line53="  Q19:=False;"
line54="  Q20:=False;"
line55="  Q21:=False;"
line56="  Q22:=False;"
line57="  Q23:=False;"
line58="  Q24:=False;"
line59="  Q25:=False;"
line60="  Q26:=False;"
line61="  Q27:=False;"
line62="  Q28:=False;"
line63="  Q29:=False;"
line64="  Q30:=False;"
line65="  Q31:=False;"
line66="  Q32:=False;"
line67="  Q33:=False;"
line68="  Q34:=False;"
line69="  Q35:=False;"
line70="  Q36:=False;"
line71="  Q37:=False;"
line72="  Q38:=False;"
line73="  Q39:=False;"
line74="  Q40:=False;"
line75="  Q41:=False;"
line76="  Q42:=False;"
line77="  Q43:=False;"
line78="  Q44:=False;"
line79="  Q45:=False;"
line80="  Q46:=False;"
line81="  Q47:=False;"
line82=""
line83="////////////////////////////////////////////////////////////"
line84="///// If step active increment MW timer of step @ %s16 /////"
line85="////////////////////////////////////////////////////////////"
line86=""
line87=""
line88="////////////////////////////////////////////////////////////"
line89="//////// If step active, execute its action code ///////////"
line90="////////////////////////////////////////////////////////////"
line91=""
line92=""
line93="//######################################//"
line94="//################ Page 2 ##############//"
line95="//######################################//"
line96=""
line97="////////////////////////////////////////////////////////////"
line98="///////////// If boot => Set Initial Steps /////////////////"
line99="////////////////////////////////////////////////////////////"
line100=""
line101=""
line102="////////////////////////////////////////////////////////////"
line103="///////////////// Calc Fired Transitions ///////////////////"
line104="////////////////////////////////////////////////////////////"
line105=""
line106=""
line107="////////////////////////////////////////////////////////////"
line108="///////////////// ReSet Steps Above fired Tr ///////////////"
line109="////////////////////////////////////////////////////////////"
line110=""
line111=""
line112="////////////////////////////////////////////////////////////"
line113="///////////////// Set Steps below fired Tr /////////////////"
line114="////////////////////////////////////////////////////////////"
line115=""
line116=""
line117="////////////////////////////////////////////////////////////"
line118="///// If step active increment MW timer of step @ %s16 /////"
line119="////////////////////////////////////////////////////////////"
line120=""
line121=""
line122="////////////////////////////////////////////////////////////"
line123="//////// If step active, execute its action code ///////////"
line124="////////////////////////////////////////////////////////////"
line125=""
line126=""
line127="//######################################//"
line128="//################ Page 1 ##############//"
line129="//######################################//"
line130=""
line131="////////////////////////////////////////////////////////////"
line132="///////////// If boot => Set Initial Steps /////////////////"
line133="////////////////////////////////////////////////////////////"
line134=""
line135=""
line136="////////////////////////////////////////////////////////////"
line137="///////////////// Calc Fired Transitions ///////////////////"
line138="////////////////////////////////////////////////////////////"
line139=""
line140=""
line141="////////////////////////////////////////////////////////////"
line142="///////////////// ReSet Steps Above fired Tr ///////////////"
line143="////////////////////////////////////////////////////////////"
line144=""
line145=""
line146="////////////////////////////////////////////////////////////"
line147="///////////////// Set Steps below fired Tr /////////////////"
line148="////////////////////////////////////////////////////////////"
line149=""
line150=""
line151="////////////////////////////////////////////////////////////"
line152="///// If step active increment MW timer of step @ %s16 /////"
line153="////////////////////////////////////////////////////////////"
line154=""
line155=""
line156="////////////////////////////////////////////////////////////"
line157="//////// If step active, execute its action code ///////////"
line158="////////////////////////////////////////////////////////////"
line159=""
line160=""
line161="//######################################//"
line162="//################ Page 0 ##############//"
line163="//######################################//"
line164=""
line165="////////////////////////////////////////////////////////////"
line166="///////////// If boot => Set Initial Steps /////////////////"
line167="////////////////////////////////////////////////////////////"
line168=""
line169="  // ObjIdx=0 => INI_Step ""X1"""
line170="  If (%sw0=0) Then"
line171="    X1 := True;"
line172="  End_If;"
line173=""
line174="////////////////////////////////////////////////////////////"
line175="///////////////// Calc Fired Transitions ///////////////////"
line176="////////////////////////////////////////////////////////////"
line177=""
line178="// ObjIdx=1 => Transition ""t0"""
line179="  // Steps Above: id=0 => X1 ;"
line180="  // Steps Below: id=2 => X2 ;"
line181="  t0 :=  X1 AND  (i1) ;"
line182="// ObjIdx=3 => Transition ""t1"""
line183="  // Steps Above: id=2 => X2 ;"
line184="  // Steps Below: id=0 => X1 ;"
line185="  t1 :=  X2 AND  (i0 or i2) ;"
line186="// ObjIdx=7 => Transition ""t3"""
line187="  // Steps Above: "
line188="  // Steps Below: "
line189="  t3 :=  () ;"
line190=""
line191="////////////////////////////////////////////////////////////"
line192="///////////////// ReSet Steps Above fired Tr ///////////////"
line193="////////////////////////////////////////////////////////////"
line194=""
line195="// ObjIdx=1 => Transition ""t0"""
line196="  // Steps Above: id=0 => X1 ;"
line197="  // Steps Below: id=2 => X2 ;"
line198="  If (t0) Then"
line199="     X1:=False; "
line200="  End_If;"
line201="// ObjIdx=3 => Transition ""t1"""
line202="  // Steps Above: id=2 => X2 ;"
line203="  // Steps Below: id=0 => X1 ;"
line204="  If (t1) Then"
line205="     X2:=False; "
line206="  End_If;"
line207="// ObjIdx=7 => Transition ""t3"""
line208="  // Steps Above: "
line209="  // Steps Below: "
line210="  If (t3) Then"
line211="    "
line212="  End_If;"
line213=""
line214="////////////////////////////////////////////////////////////"
line215="///////////////// Set Steps below fired Tr /////////////////"
line216="////////////////////////////////////////////////////////////"
line217=""
line218="// ObjIdx=1 => Transition ""t0"""
line219="  // Steps Above: id=0 => X1 ;"
line220="  // Steps Below: id=2 => X2 ;"
line221="  If (t0) Then "
line222="    X2 := True; "
line223="    X2_T := 0; "
line224="  End_If;"
line225="// ObjIdx=3 => Transition ""t1"""
line226="  // Steps Above: id=2 => X2 ;"
line227="  // Steps Below: id=0 => X1 ;"
line228="  If (t1) Then "
line229="    X1 := True; "
line230="    X1_T := 0; "
line231="  End_If;"
line232="// ObjIdx=7 => Transition ""t3"""
line233="  // Steps Above: "
line234="  // Steps Below: "
line235="  If (t3) Then "
line236="   "
line237="    "
line238="  End_If;"
line239=""
line240="////////////////////////////////////////////////////////////"
line241="///// If step active increment MW timer of step @ %s16 /////"
line242="////////////////////////////////////////////////////////////"
line243=""
line244="  // ObjIdx=0 => Step ""X1"""
line245="  If (%s16) and (X1) Then X1_T := X1_T+1; end_if;"
line246="  // ObjIdx=2 => Step ""X2"""
line247="  If (%s16) and (X2) Then X2_T := X2_T+1; end_if;"
line248="  // ObjIdx=6 => Step ""Zone8"""
line249="  If (%s16) and (Zone8) Then Zone8_T := Zone8_T+1; end_if;"
line250=""
line251="////////////////////////////////////////////////////////////"
line252="//////// If step active, execute its action code ///////////"
line253="////////////////////////////////////////////////////////////"
line254=""
line255="  // ObjIdx=0 => Step ""X1"" (code...)"
line256="  If X1 Then "
line257="    set_motors(0, 0);"
line258="  End_If;"
line259="  // ObjIdx=2 => Step ""X2"" (code...)"
line260="  If X2 Then "
line261="    position := read_trimpot();"
line262="    v := 40;"
line263="    w := -0.1 * (300.0 - position);"
line264="    v1 := v + w;"
line265="    v2 := v - w;"
line266="    "
line267="    set_motors(v1, v2);"
line268="  End_If;"
line269="  // ObjIdx=6 => Step ""Zone8"" (code...)"
line270="  If Zone8 Then "
line271="    if ((sw0 % 50)=0) then"
line272="    //lcd_goto_xy(0,1);"
line273="    clear();"
line274="    printf(""%3d %3d"",v1,v2);"
line275="    lcd_goto_xy(0,1);"
line276="    //printf(""%4d %d %d"", position, X1, X2);"
line277="    print_long(position);"
line278="    end_if;"
line279="  End_If;"
line280=""
line281="////////////////////////////////////////////////////////////"
line282="////////////////////////// Zone8 ///////////////////////////"
line283="////////////////////////////////////////////////////////////"
line284=""
line285="  if ((sw0 % 50)=0) then"
line286="  //lcd_goto_xy(0,1);"
line287="  clear();"
line288="  printf(""%3d %3d"",v1,v2);"
line289="  lcd_goto_xy(0,1);"
line290="  //printf(""%4d %d %d"", position, X1, X2);"
line291="  print_long(position);"
line292="  end_if;"
line293=""
line294="(*************** End of ST Code ****************)"

[Main]
ActiveTab=3
MessagesHeight=100
ProjectAuthor=
ProjectComments=
ProjectGrafcet=1
ModBusIP=192.168.56.1
ModBusPort=5502
ModBusNRead=24
ModBusNWrite=34
ModBusOffs_I=0
ModBusOffs_O=0
ModBusFunc=1
ModBus=0
Period=50
WinMsg=1

[FMain]
top=125
left=181
height=698
width=1227

[Variables\Names]
count=641
line0="UserName"
line1="X1"
line2="t0"
line3="X2"
line4="t1"
line5="M4"
line6="M5"
line7="Zone8"
line8="t3"
line9="M8"
line10="M9"
line11="M10"
line12="M11"
line13="M12"
line14="M13"
line15="M14"
line16="M15"
line17="M16"
line18="M17"
line19="M18"
line20="M19"
line21="M20"
line22="M21"
line23="M22"
line24="M23"
line25="M24"
line26="M25"
line27="M26"
line28="M27"
line29="M28"
line30="M29"
line31="M30"
line32="M31"
line33="M32"
line34="M33"
line35="M34"
line36="M35"
line37="M36"
line38="M37"
line39="M38"
line40="M39"
line41="M40"
line42="M41"
line43="M42"
line44="M43"
line45="M44"
line46="M45"
line47="M46"
line48="M47"
line49="M48"
line50="M49"
line51="M50"
line52="M51"
line53="M52"
line54="M53"
line55="M54"
line56="M55"
line57="M56"
line58="M57"
line59="M58"
line60="M59"
line61="M60"
line62="M61"
line63="M62"
line64="M63"
line65="M64"
line66="M65"
line67="M66"
line68="M67"
line69="M68"
line70="M69"
line71="M70"
line72="M71"
line73="M72"
line74="M73"
line75="M74"
line76="M75"
line77="M76"
line78="M77"
line79="M78"
line80="M79"
line81="M80"
line82="M81"
line83="M82"
line84="M83"
line85="M84"
line86="M85"
line87="M86"
line88="M87"
line89="M88"
line90="M89"
line91="M90"
line92="M91"
line93="M92"
line94="M93"
line95="M94"
line96="M95"
line97="M96"
line98="M97"
line99="M98"
line100="M99"
line101="M100"
line102="M101"
line103="M102"
line104="M103"
line105="M104"
line106="M105"
line107="M106"
line108="M107"
line109="M108"
line110="M109"
line111="M110"
line112="M111"
line113="M112"
line114="M113"
line115="M114"
line116="M115"
line117="M116"
line118="M117"
line119="M118"
line120="M119"
line121="M120"
line122="M121"
line123="M122"
line124="M123"
line125="M124"
line126="M125"
line127="M126"
line128="M127"
line129="I0"
line130="I1"
line131="I2"
line132="I3"
line133="I4"
line134="I5"
line135="I6"
line136="I7"
line137="I8"
line138="I9"
line139="I10"
line140="I11"
line141="I12"
line142="I13"
line143="I14"
line144="I15"
line145="I16"
line146="I17"
line147="I18"
line148="I19"
line149="I20"
line150="I21"
line151="I22"
line152="I23"
line153="I24"
line154="I25"
line155="I26"
line156="I27"
line157="I28"
line158="I29"
line159="I30"
line160="I31"
line161="I32"
line162="I33"
line163="I34"
line164="I35"
line165="I36"
line166="I37"
line167="I38"
line168="I39"
line169="I40"
line170="I41"
line171="I42"
line172="I43"
line173="I44"
line174="I45"
line175="I46"
line176="I47"
line177="Q0"
line178="Q1"
line179="Q2"
line180="Q3"
line181="Q4"
line182="Q5"
line183="Q6"
line184="Q7"
line185="Q8"
line186="Q9"
line187="Q10"
line188="Q11"
line189="Q12"
line190="Q13"
line191="Q14"
line192="Q15"
line193="Q16"
line194="Q17"
line195="Q18"
line196="Q19"
line197="Q20"
line198="Q21"
line199="Q22"
line200="Q23"
line201="Q24"
line202="Q25"
line203="Q26"
line204="Q27"
line205="Q28"
line206="Q29"
line207="Q30"
line208="Q31"
line209="Q32"
line210="Q33"
line211="Q34"
line212="Q35"
line213="Q36"
line214="Q37"
line215="Q38"
line216="Q39"
line217="Q40"
line218="Q41"
line219="Q42"
line220="Q43"
line221="Q44"
line222="Q45"
line223="Q46"
line224="Q47"
line225="S0"
line226="S1"
line227="S2"
line228="S3"
line229="S4"
line230="S5"
line231="S6"
line232="S7"
line233="S8"
line234="S9"
line235="S10"
line236="S11"
line237="S12"
line238="S13"
line239="S14"
line240="S15"
line241="S16"
line242="S17"
line243="S18"
line244="S19"
line245="S20"
line246="S21"
line247="S22"
line248="S23"
line249="S24"
line250="S25"
line251="S26"
line252="S27"
line253="S28"
line254="S29"
line255="S30"
line256="S31"
line257="S32"
line258="S33"
line259="S34"
line260="S35"
line261="S36"
line262="S37"
line263="S38"
line264="S39"
line265="S40"
line266="S41"
line267="S42"
line268="S43"
line269="S44"
line270="S45"
line271="S46"
line272="S47"
line273="S48"
line274="S49"
line275="S50"
line276="S51"
line277="S52"
line278="S53"
line279="S54"
line280="S55"
line281="S56"
line282="S57"
line283="S58"
line284="S59"
line285="S60"
line286="S61"
line287="S62"
line288="S63"
line289="S64"
line290="S65"
line291="S66"
line292="S67"
line293="S68"
line294="S69"
line295="S70"
line296="S71"
line297="S72"
line298="S73"
line299="S74"
line300="S75"
line301="S76"
line302="S77"
line303="S78"
line304="S79"
line305="S80"
line306="S81"
line307="S82"
line308="S83"
line309="S84"
line310="S85"
line311="S86"
line312="S87"
line313="S88"
line314="S89"
line315="S90"
line316="S91"
line317="S92"
line318="S93"
line319="S94"
line320="S95"
line321="S96"
line322="S97"
line323="S98"
line324="S99"
line325="S100"
line326="S101"
line327="S102"
line328="S103"
line329="S104"
line330="S105"
line331="S106"
line332="S107"
line333="S108"
line334="S109"
line335="S110"
line336="S111"
line337="S112"
line338="S113"
line339="S114"
line340="S115"
line341="S116"
line342="S117"
line343="S118"
line344="S119"
line345="S120"
line346="S121"
line347="S122"
line348="S123"
line349="S124"
line350="S125"
line351="S126"
line352="S127"
line353="X1_t"
line354="MW1"
line355="X2_t"
line356="MW3"
line357="MW4"
line358="MW5"
line359="Zone8_t"
line360="MW7"
line361="MW8"
line362="MW9"
line363="MW10"
line364="MW11"
line365="MW12"
line366="MW13"
line367="MW14"
line368="MW15"
line369="MW16"
line370="MW17"
line371="MW18"
line372="MW19"
line373="MW20"
line374="MW21"
line375="MW22"
line376="MW23"
line377="MW24"
line378="MW25"
line379="MW26"
line380="MW27"
line381="MW28"
line382="MW29"
line383="MW30"
line384="MW31"
line385="MW32"
line386="MW33"
line387="MW34"
line388="MW35"
line389="MW36"
line390="MW37"
line391="MW38"
line392="MW39"
line393="MW40"
line394="MW41"
line395="MW42"
line396="MW43"
line397="MW44"
line398="MW45"
line399="MW46"
line400="MW47"
line401="MW48"
line402="MW49"
line403="MW50"
line404="MW51"
line405="MW52"
line406="MW53"
line407="MW54"
line408="MW55"
line409="MW56"
line410="MW57"
line411="MW58"
line412="MW59"
line413="MW60"
line414="MW61"
line415="MW62"
line416="MW63"
line417="MW64"
line418="MW65"
line419="MW66"
line420="MW67"
line421="MW68"
line422="MW69"
line423="MW70"
line424="MW71"
line425="MW72"
line426="MW73"
line427="MW74"
line428="MW75"
line429="MW76"
line430="MW77"
line431="MW78"
line432="MW79"
line433="MW80"
line434="MW81"
line435="MW82"
line436="MW83"
line437="MW84"
line438="MW85"
line439="MW86"
line440="MW87"
line441="MW88"
line442="MW89"
line443="MW90"
line444="MW91"
line445="MW92"
line446="MW93"
line447="MW94"
line448="MW95"
line449="MW96"
line450="MW97"
line451="MW98"
line452="MW99"
line453="MW100"
line454="MW101"
line455="MW102"
line456="MW103"
line457="MW104"
line458="MW105"
line459="MW106"
line460="MW107"
line461="MW108"
line462="MW109"
line463="MW110"
line464="MW111"
line465="MW112"
line466="MW113"
line467="MW114"
line468="MW115"
line469="MW116"
line470="MW117"
line471="MW118"
line472="MW119"
line473="MW120"
line474="MW121"
line475="MW122"
line476="MW123"
line477="MW124"
line478="MW125"
line479="MW126"
line480="MW127"
line481="SW0"
line482="SW1"
line483="SW2"
line484="SW3"
line485="SW4"
line486="SW5"
line487="SW6"
line488="SW7"
line489="SW8"
line490="SW9"
line491="SW10"
line492="SW11"
line493="SW12"
line494="SW13"
line495="SW14"
line496="SW15"
line497="SW16"
line498="SW17"
line499="SW18"
line500="SW19"
line501="SW20"
line502="SW21"
line503="SW22"
line504="SW23"
line505="SW24"
line506="SW25"
line507="SW26"
line508="SW27"
line509="SW28"
line510="SW29"
line511="SW30"
line512="SW31"
line513="SW32"
line514="SW33"
line515="SW34"
line516="SW35"
line517="SW36"
line518="SW37"
line519="SW38"
line520="SW39"
line521="SW40"
line522="SW41"
line523="SW42"
line524="SW43"
line525="SW44"
line526="SW45"
line527="SW46"
line528="SW47"
line529="SW48"
line530="SW49"
line531="SW50"
line532="SW51"
line533="SW52"
line534="SW53"
line535="SW54"
line536="SW55"
line537="SW56"
line538="SW57"
line539="SW58"
line540="SW59"
line541="SW60"
line542="SW61"
line543="SW62"
line544="SW63"
line545="SW64"
line546="SW65"
line547="SW66"
line548="SW67"
line549="SW68"
line550="SW69"
line551="SW70"
line552="SW71"
line553="SW72"
line554="SW73"
line555="SW74"
line556="SW75"
line557="SW76"
line558="SW77"
line559="SW78"
line560="SW79"
line561="SW80"
line562="SW81"
line563="SW82"
line564="SW83"
line565="SW84"
line566="SW85"
line567="SW86"
line568="SW87"
line569="SW88"
line570="SW89"
line571="SW90"
line572="SW91"
line573="SW92"
line574="SW93"
line575="SW94"
line576="SW95"
line577="SW96"
line578="SW97"
line579="SW98"
line580="SW99"
line581="SW100"
line582="SW101"
line583="SW102"
line584="SW103"
line585="SW104"
line586="SW105"
line587="SW106"
line588="SW107"
line589="SW108"
line590="SW109"
line591="SW110"
line592="SW111"
line593="SW112"
line594="SW113"
line595="SW114"
line596="SW115"
line597="SW116"
line598="SW117"
line599="SW118"
line600="SW119"
line601="SW120"
line602="SW121"
line603="SW122"
line604="SW123"
line605="SW124"
line606="SW125"
line607="SW126"
line608="SW127"
line609="T0"
line610="T1"
line611="T2"
line612="T3"
line613="T4"
line614="T5"
line615="T6"
line616="T7"
line617="T8"
line618="T9"
line619="T10"
line620="T11"
line621="T12"
line622="T13"
line623="T14"
line624="T15"
line625="T16"
line626="T17"
line627="T18"
line628="T19"
line629="T20"
line630="T21"
line631="T22"
line632="T23"
line633="T24"
line634="T25"
line635="T26"
line636="T27"
line637="T28"
line638="T29"
line639="T30"
line640="T31"

[FVariables]
top=241
left=417
height=456
width=280

[Variables]
Visible=1
NextVar=1
Filter=0

[FIOLeds]
top=48
left=679
height=612
width=207
Visible=0

